% This file was created with tikzplotlib v0.10.1.
\begin{tikzpicture}

\definecolor{chocolate213940}{RGB}{213,94,0}
\definecolor{darkgray176}{RGB}{176,176,176}
\definecolor{darkgreen}{RGB}{0,100,0}
\definecolor{darkorange}{RGB}{255,140,0}
\definecolor{gray}{RGB}{128,128,128}

\begin{axis}[
height=6cm,
legend cell align={left},
legend columns=3,
legend style={fill opacity=0.8, draw opacity=1, text opacity=1, at={(0.5,1.2)}, anchor=north, draw=none},
tick align=outside,
tick pos=left,
width=14cm,
x grid style={darkgray176},
xlabel={Batch Size},
xmin=-0.662, xmax=4.662,
xtick style={color=black},
xtick={0,1,2,3,4},
xticklabels={4,8,16,32,64},
y grid style={darkgray176},
ylabel={TPOT (ms)},
ymin=0, ymax=166.95,
ytick style={color=black}
]
\draw[draw=none,fill=chocolate213940] (axis cs:-0.42,0) rectangle (axis cs:-0.14,154);
\addlegendimage{ybar,ybar legend,draw=none,fill=chocolate213940}
\addlegendentry{NovaServe-OPT}

\draw[draw=none,fill=chocolate213940] (axis cs:0.58,0) rectangle (axis cs:0.86,76.99);
\draw[draw=none,fill=chocolate213940] (axis cs:1.58,0) rectangle (axis cs:1.86,39.91);
\draw[draw=none,fill=chocolate213940] (axis cs:2.58,0) rectangle (axis cs:2.86,20.16);
\draw[draw=none,fill=chocolate213940] (axis cs:3.58,0) rectangle (axis cs:3.86,10.08);
\draw[draw=darkorange,fill=white,semithick,postaction={pattern=grid, pattern color=darkorange}] (axis cs:-0.14,0) rectangle (axis cs:0.14,159);
\addlegendimage{ybar,ybar legend,draw=darkorange,fill=white,semithick,postaction={pattern=grid, pattern color=darkorange}}
\addlegendentry{NovaServe-Qwen}

\draw[draw=darkorange,fill=white,semithick,postaction={pattern=grid, pattern color=darkorange}] (axis cs:0.86,0) rectangle (axis cs:1.14,81.756375);
\draw[draw=darkorange,fill=white,semithick,postaction={pattern=grid, pattern color=darkorange}] (axis cs:1.86,0) rectangle (axis cs:2.14,40.63);
\draw[draw=darkorange,fill=white,semithick,postaction={pattern=grid, pattern color=darkorange}] (axis cs:2.86,0) rectangle (axis cs:3.14,20.31803125);
\draw[draw=darkorange,fill=white,semithick,postaction={pattern=grid, pattern color=darkorange}] (axis cs:3.86,0) rectangle (axis cs:4.14,10.159015625);
\draw[draw=darkgreen,fill=white,semithick,postaction={pattern=vertical lines, pattern color=darkgreen}] (axis cs:0.14,0) rectangle (axis cs:0.42,0);
\addlegendimage{ybar,ybar legend,draw=darkgreen,fill=white,semithick,postaction={pattern=vertical lines, pattern color=darkgreen}}
\addlegendentry{FlexGen-OPT}

\draw[draw=darkgreen,fill=white,semithick,postaction={pattern=vertical lines, pattern color=darkgreen}] (axis cs:1.14,0) rectangle (axis cs:1.42,114.75);
\draw[draw=darkgreen,fill=white,semithick,postaction={pattern=vertical lines, pattern color=darkgreen}] (axis cs:2.14,0) rectangle (axis cs:2.42,100.43);
\draw[draw=darkgreen,fill=white,semithick,postaction={pattern=vertical lines, pattern color=darkgreen}] (axis cs:3.14,0) rectangle (axis cs:3.42,58.44);
\draw[draw=darkgreen,fill=white,semithick,postaction={pattern=vertical lines, pattern color=darkgreen}] (axis cs:4.14,0) rectangle (axis cs:4.42,29.22);
\addplot [gray, dashed, forget plot]
table {%
-0.662 100
4.662 100
};
\end{axis}

\end{tikzpicture}
